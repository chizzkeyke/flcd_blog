import axios from 'axios'
import { getComments } from 'redux/actions/comments'

const token = localStorage.getItem('token')

export const fetchComments = (id) => dispatch => {
   axios({
      method: 'GET',
      url: `https://test.flcd.ru/api/post/${id}/comments`,
      headers: {
         'accept': '*/*',
         'Authorization': `Bearer ${token}`,
         'Content-type': 'application/json',
     }
   })
   .then(res => {
      dispatch(getComments(res.data))
      console.log(res.status)
   })
   .catch(err => {
      console.log(err)
   })
}