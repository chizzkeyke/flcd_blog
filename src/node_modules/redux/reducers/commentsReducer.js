import { GET_COMMENTS, CLEAR_COMMENTS, ADD_COMMENT } from 'redux/actions/constants'

const initialState = {
   commentsSelectedPost: null,
}

export default function commentsReducer(state = initialState, action) {
   switch (action.type) {
      case GET_COMMENTS: {
         const { data } = action.payload
         return {
            ...state,
            commentsSelectedPost: data
         }
      }
      case ADD_COMMENT: {
         const { data } = action.payload
         const newComment = { ...data }
         return {
            ...state,
            commentsSelectedPost: [ ...state.commentsSelectedPost, newComment ]
         }
      }
      case CLEAR_COMMENTS: {
         return initialState
      }

      default:
         return state;
   }
}